<h2>Rendelések</h2>
<ngx-data-table *ngIf="list$ |async as list" [list]="list" [columns]="[
    {
      title: 'Vevő',
      key: 'customer',
      interpreter: customerInterpreterMode
    },
    {
      title: 'db',
      key: 'paintings',
      interpreter: paintingInterpreterMode
    },
    {
      title: 'Megjegyzés',
      key: 'remark'
    },
    {
      title: 'Állapot',
      key: 'status'
    },
    {
      title: 'Számla',
      key: 'bill'
    },
    {
      title: 'Számla állapt',
      key: 'billStatus'
    },
    {
      title: 'Végösszeg',
      key: 'price'
    },
    {
      title: 'Műveletek',
      key: '',
      divButton: [
      {
        id: 'edit',
        class: 'btn btn-primary',
        text: 'Szerkesztés'
      },
      {
        id: 'delete',
        class: 'btn btn-danger',
        text: 'Törlés'
      }
      ]
    }
  ]" [interpreter]="interpreterBound" (onButtonClick)="tableButtonClick($event)"></ngx-data-table>

<app-modal *ngIf="editObj$ | async as order" [(visible)]="editVisible" (onOkButtonClick)="editOkButton(order)">
  <form>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label>Vevő</label>
      </div>
      <div class="d-flex justify-content-start">
        <input disabled type="text" [value]="getCustomerName(order)" name="customer" id="customer" class="form-control">
        <button class="btn btn-primary" (click)="changeCustomer(order)">Kiválasztás</button>
      </div>
    </div>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label>Képek</label>
      </div>
      <div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th>Festő</th>
              <th>Cím</th>
              <th>típus</th>
              <th>
                <button class="btn btn-primary w-80" (click)="selectPainting(order)">Új kép</button>
              </th>
            </tr>
          </thead>
          <tr *ngFor="let item of order.paintings">
            <td>{{$any(item)?.artist?.artistName}}</td>
            <td>{{$any(item)?.title}}</td>
            <td>{{$any(item)?.type}}</td>
            <td>
              <div>
                <button class="btn btn-danger w-80" (click)="deletePainting(order, item)">Törlés</button>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label for="remark">Megjegyzés</label>
      </div>
      <input type="text" [(ngModel)]="order.remark" name="remark" id="remark" class="form-control">
    </div>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label for="status">Állapot</label>
      </div>
      <input type="text" [(ngModel)]="order.status" name="status" id="status" class="form-control">
    </div>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label for="bill">Számla azonosító</label>
      </div>
      <input type="text" [(ngModel)]="order.bill" name="bill" id="bill" class="form-control">
    </div>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label for="billStatus">Számla állapot</label>
      </div>
      <input type="text" [(ngModel)]="order.billStatus" name="billStatus" id="billStatus" class="form-control">
    </div>
    <div class="form-group">
      <div class="d-flex justify-content-start mt-2">
        <label for="price">Végösszeg</label>
      </div>
      <input type="number" step="1000" [(ngModel)]="order.price" name="price" id="price" class="form-control">
    </div>
  </form>
</app-modal>
